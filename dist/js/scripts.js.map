{"version":3,"names":[],"mappings":"","sources":["scripts.js"],"sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n\"use strict\";\n\nvar _functions = require(\"./modules/functions\");\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar categories = ['Gente', 'Cuerpo humano y salud'];\nvar gameKeys = (0, _functions.$)('game-keys');\nvar keys = [['Q', 'W', 'E', 'R', 'T', 'Y', 'U', 'I', 'O', 'P'], ['A', 'S', 'D', 'F', 'G', 'H', 'J', 'K', 'L', 'Ñ'], ['Z', 'X', 'C', 'V', 'B', 'N', 'M']]; // Palabras del juego\n\nvar words = [// Gente\n['humanidad', 'humano', 'persona', 'gente', 'hombre', 'mujer', 'bebé', 'niño', 'niña', 'adolescente', 'adulto', 'adulta', 'anciano', 'anciana', 'don', 'doña', 'señor', 'señora', 'caballero', 'dama'], // Cuerpo humano y salud\n['cuerpo', 'pierna', 'pie', 'talón', 'espinilla', 'rodilla', 'muslo', 'cabeza', 'cara', 'boca', 'labio', 'diente', 'ojo', 'nariz', 'barba', 'bigote', 'cabello', 'oreja', 'cerebro', 'estómago', 'brazo', 'codo', 'hombro', 'uña', 'muñeca', 'palma', 'dedo', 'trasero', 'cola', 'glúteos', 'abdomen', 'hígado', 'músculo', 'cuello', 'corazón', 'mente', 'alma', 'espíritu', 'pecho', 'cintura', 'cadera', 'espalda', 'corazón', 'sangre', 'carne', 'piel', 'hueso', 'resfriado', 'gripe', 'diarrea', 'salud', 'enfermedad']];\nvar GAME = {\n  answerArray: []\n};\nvar PLAYER = {\n  lives: 6,\n  guess: '',\n  guessStatus: true,\n  attemps: 0\n}; // Obtener categoría y palabra secreta aleatoria\n\nvar cPosition = (0, _functions.random)(categories);\nvar wPosition = (0, _functions.random)(words[cPosition]); // Agregar resultados obtenidos al objeto GAME\n\nGAME.category = categories[cPosition];\nGAME.secretWord = words[cPosition][wPosition].toUpperCase();\nvar from = ['Á', 'É', 'Í', 'Ó', 'Ú'];\nvar to = ['A', 'E', 'I', 'O', 'U']; // Reemplazar la palabra secreta por guiones\n\nfor (var i = 0; i < GAME.secretWord.length; i++) {\n  GAME.answerArray[i] = '_';\n}\n\nvar canvas = (0, _functions.$)('my-canvas');\nvar ctx = canvas.getContext('2d');\n\nvar Game = /*#__PURE__*/function () {\n  function Game() {\n    _classCallCheck(this, Game);\n  }\n\n  _createClass(Game, [{\n    key: \"drawLives\",\n    value:\n    /**\r\n     * Dibuja las vidas\r\n     */\n    function drawLives() {\n      ctx.clearRect(canvas.width - 116, 0, 116, 16);\n\n      var _loop = function _loop(_i) {\n        var heart = new Image();\n        heart.src = './dist/img/heart.png';\n\n        heart.onload = function () {\n          var x = canvas.width - (PLAYER.lives * heart.width + (PLAYER.lives - 1) * 4) + _i * (heart.width + 4);\n          ctx.beginPath();\n          ctx.drawImage(heart, x, 0);\n          ctx.closePath();\n        };\n      };\n\n      for (var _i = 0; _i < PLAYER.lives; _i++) {\n        _loop(_i);\n      }\n    }\n    /**\r\n     * Dibuja la palabra secreta\r\n     */\n\n  }, {\n    key: \"drawSecretWord\",\n    value: function drawSecretWord() {\n      ctx.clearRect(0, canvas.height - 40, canvas.width, 40);\n      GAME.secretWord.includes(PLAYER.guess) ? PLAYER.guessStatus = true : PLAYER.guessStatus = false;\n\n      for (var _i2 = 0; _i2 < GAME.secretWord.length; _i2++) {\n        var element = GAME.secretWord[_i2];\n\n        if ((0, _functions.str_replace)(from, to, element) === PLAYER.guess) {\n          PLAYER.guessStatus = true;\n          GAME.answerArray[_i2] = element;\n        }\n\n        var x = canvas.width - (GAME.secretWord.length * 24 + (GAME.secretWord.length - 1) * 4) + _i2 * (24 + 4);\n        ctx.beginPath();\n        ctx.font = \"32px calibri\";\n        ctx.fillText(GAME.answerArray[_i2], x, canvas.height - 6);\n        ctx.closePath();\n      }\n    }\n  }, {\n    key: \"drawKeys\",\n    value: function drawKeys() {\n      for (var rows = 0; rows < keys.length; rows++) {\n        var row = keys[rows];\n        var rowSection = document.createElement('section');\n        var rowId = rows + 1;\n        rowSection.setAttribute('id', 'row-' + rowId);\n        rowSection.classList.add('keys-section');\n        gameKeys.appendChild(rowSection);\n        var section = (0, _functions.$)('row-' + rowId);\n\n        for (var _i3 = 0; _i3 < row.length; _i3++) {\n          var rowElement = row[_i3];\n          var button = document.createElement('button');\n          button.classList.add('key');\n          button.setAttribute('data-key', rowElement);\n          button.textContent = row[_i3];\n          section.appendChild(button);\n        }\n      }\n    }\n  }, {\n    key: \"gameOver\",\n    value: function gameOver() {\n      if (PLAYER.lives === 0) {\n        ctx.beginPath();\n        ctx.font = \"Bold 40px calibri\";\n        var text = \"¡Has perdido!\";\n        var text2 = \"La palabra secreta era \" + GAME.secretWord;\n        ctx.fillText(text, canvas.width / 2 - ctx.measureText(text).width / 2, canvas.height / 2);\n        ctx.font = \"Bold 28px calibri\";\n        ctx.fillText(text2, canvas.width / 2 - ctx.measureText(text2).width / 2, canvas.height / 2 + 40);\n        ctx.closePath();\n      } else {\n        ctx.beginPath();\n        var _text = \"¡Enhorabuena!\";\n\n        var _text2 = \"Lo has conseguido en \" + PLAYER.attemps + \" intentos\";\n\n        ctx.font = \"Bold 40px calibri\";\n        ctx.fillText(_text, canvas.width / 2 - ctx.measureText(_text).width / 2, canvas.height / 2);\n        ctx.font = \"Bold 28px calibri\";\n        ctx.fillText(_text2, canvas.width / 2 - ctx.measureText(_text2).width / 2, canvas.height / 2 + 40);\n        ctx.closePath();\n      }\n    }\n  }]);\n\n  return Game;\n}();\n\ngameKeys.addEventListener('click', function (e) {\n  var key = e.target;\n\n  if (key.tagName === 'BUTTON') {\n    key.classList.add('pressed');\n    PLAYER.guess = key.textContent;\n    PLAYER.attemps++;\n    newGame().drawSecretWord();\n\n    if (PLAYER.guessStatus !== true) {\n      PLAYER.lives--;\n      console.log(PLAYER.lives);\n      newGame().drawLives();\n    }\n\n    if (PLAYER.lives === 0 || GAME.answerArray.join('') === GAME.secretWord) {\n      newGame().gameOver();\n    }\n  }\n});\n\nvar newGame = function newGame() {\n  return new Game();\n};\n\nnewGame();\nnewGame().drawLives();\nnewGame().drawSecretWord();\nnewGame().drawKeys();\n\n},{\"./modules/functions\":2}],2:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.str_replace = exports.$ = exports.random = void 0;\n\n/**\r\n * Obtiene una posición aleatoria de un array\r\n * @param {array}\r\n * @return {int}\r\n */\nvar random = function random(array) {\n  var position = Math.floor(Math.random() * array.length);\n  return position;\n};\n/**\r\n * Simplifica el getElementByID al estilo jQuery\r\n * @param {string} id\r\n * @return {DOM element}\r\n */\n\n\nexports.random = random;\n\nvar $ = function $(id) {\n  return document.getElementById(id);\n};\n/**\r\n * Reemplaza caracteres latinos\r\n * @param {string}\r\n * @return {string}\r\n * @author elchininet <https://xprimiendo.com/str_replace-de-php-en-javascript/>\r\n */\n\n\nexports.$ = $;\n\nvar str_replace = function str_replace(search, replace, subject) {\n  //Conformar la expresión regular a buscar\n  var reg; //Si el parámetro search es un String\n\n  if (typeof search == \"string\") {\n    //Escapar los caracteres usados por las expresiones regulares\n    search = search.replace(/[.?*+^$[\\]\\\\(){}|-]/g, \"\\\\$&\");\n    reg = new RegExp(\"(\" + search + \")\", \"g\");\n  } else {\n    //Escapar los caracteres usados por las expresiones regulares\n    search = search.map(function (i) {\n      return i.replace(/[.?*+^$[\\]\\\\(){}|-]/g, \"\\\\$&\");\n    });\n    reg = new RegExp(\"(\" + search.join(\"|\") + \")\", \"g\");\n  } //Conformar el reemplazo\n\n\n  var rep; //Si el parámetro replace es un String\n\n  if (typeof replace == \"string\") {\n    rep = replace;\n  } else {\n    //Si el parámetro search es un String y el parámetro replace un Array\n    if (typeof search == \"string\") {\n      rep = replace[0]; //Si el parámetro search es un Array y el parámetro replace un Array\n    } else {\n      rep = function rep(i) {\n        return replace[search.indexOf(i)];\n      };\n    }\n  }\n\n  return subject.replace(reg, rep);\n};\n\nexports.str_replace = str_replace;\n\n},{}]},{},[1]);\n"],"file":"scripts.js"}